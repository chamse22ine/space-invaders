<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Space Invaders: include/utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Space Invaders
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('utils_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">utils.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Bibliothèque de fonctions utilitaires transversales (Cross-cutting concerns).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a67e97a00cbec17b49a737520702f5744" id="r_a67e97a00cbec17b49a737520702f5744"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67e97a00cbec17b49a737520702f5744">utils_get_time</a> (void)</td></tr>
<tr class="memdesc:a67e97a00cbec17b49a737520702f5744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère le temps actuel avec une haute précision (seconde).  <br /></td></tr>
<tr class="memitem:a4a070281b89b7fdf5b81473abf290a3f" id="r_a4a070281b89b7fdf5b81473abf290a3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a070281b89b7fdf5b81473abf290a3f">utils_sleep_ms</a> (int ms)</td></tr>
<tr class="memdesc:a4a070281b89b7fdf5b81473abf290a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Met le thread principal en pause (Sleep).  <br /></td></tr>
<tr class="memitem:aec7132b5831cf9e563f0894a2c539909" id="r_aec7132b5831cf9e563f0894a2c539909"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec7132b5831cf9e563f0894a2c539909">utils_random_int</a> (int min, int max)</td></tr>
<tr class="memdesc:aec7132b5831cf9e563f0894a2c539909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Génère un nombre entier pseudo-aléatoire borné.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bibliothèque de fonctions utilitaires transversales (Cross-cutting concerns). </p>
<p>Ce fichier regroupe des aides bas niveau pour interagir avec le système d'exploitation de manière abstraite. Il gère principalement le temps (pour la boucle de jeu et la physique) et l'aléatoire (pour le gameplay), sans que le reste du programme ait besoin de savoir si on est sous Windows ou Linux. </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a67e97a00cbec17b49a737520702f5744" name="a67e97a00cbec17b49a737520702f5744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e97a00cbec17b49a737520702f5744">&#9670;&#160;</a></span>utils_get_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double utils_get_time </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère le temps actuel avec une haute précision (seconde). </p>
<p>Cette fonction est cruciale pour le calcul du "Delta Time" (dt) dans la boucle de jeu. Elle utilise une horloge "monotone" pour garantir que le temps ne recule jamais, même si l'utilisateur change l'heure de son système.</p>
<dl class="section return"><dt>Returns</dt><dd>Le temps écoulé en secondes depuis le lancement (ex: 12.5 pour 12s et 500ms).</dd></dl>
<p>Récupère le temps actuel avec une haute précision (seconde).</p>
<p>Utilise <span class="tt">CLOCK_MONOTONIC</span> : C'est une horloge qui ne revient jamais en arrière, même si l'utilisateur change l'heure de son ordinateur. C'est vital pour éviter que la physique du jeu ne plante ou ne saute. </p>

</div>
</div>
<a id="aec7132b5831cf9e563f0894a2c539909" name="aec7132b5831cf9e563f0894a2c539909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7132b5831cf9e563f0894a2c539909">&#9670;&#160;</a></span>utils_random_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utils_random_int </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>min</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>max</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Génère un nombre entier pseudo-aléatoire borné. </p>
<p>Utilitaire simple pour le gameplay (ex: probabilité qu'un ennemi tire, apparition de l'OVNI, direction initiale).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>Borne inférieure (incluse). </td></tr>
    <tr><td class="paramname">max</td><td>Borne supérieure (incluse). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Un entier 'n' tel que : min &lt;= n &lt;= max.</dd></dl>
<p>Génère un nombre entier pseudo-aléatoire borné.</p>
<p>Utilise l'arithmétique modulaire pour borner le résultat entre min et max. Note : Suppose que srand() a été appelé au début du programme (fait dans model_init). </p>

</div>
</div>
<a id="a4a070281b89b7fdf5b81473abf290a3f" name="a4a070281b89b7fdf5b81473abf290a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a070281b89b7fdf5b81473abf290a3f">&#9670;&#160;</a></span>utils_sleep_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utils_sleep_ms </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ms</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Met le thread principal en pause (Sleep). </p>
<p>Sert à "ralentir" la boucle de jeu pour ne pas consommer 100% du CPU inutilement et pour respecter la consigne de FPS (Frames Per Second) définie dans <a class="el" href="common_8h.html" title="Configuration globale et constantes du jeu.">common.h</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>Durée de la pause en millisecondes.</td></tr>
  </table>
  </dd>
</dl>
<p>Met le thread principal en pause (Sleep).</p>
<p>Utilise <span class="tt">nanosleep</span> qui est plus précis que le <span class="tt">sleep()</span> standard et n'interfère pas avec les signaux système. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="utils_8h.html">utils.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
